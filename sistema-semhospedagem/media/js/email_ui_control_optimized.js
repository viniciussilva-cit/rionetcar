var LOCALE=window.LOCALE||new CPANEL.Locale();if(!YAHOO.widget.Paginator._fixed_2529475){(function(){YAHOO.widget.Paginator._fixed_2529475=true;var c=YAHOO.lang;var d=YAHOO.widget.Paginator;var b=DOM;var a=YAHOO.lang.isArray;d.prototype.updateVisibility=function(k){var n=this.get("alwaysVisible"),l,g,o,m,h,j,f;if(!k||k.type==="alwaysVisibleChange"||!n){l=this.get("totalRecords");g=true;o=this.get("rowsPerPage");m=this.get("rowsPerPageOptions");if(a(m)){for(h=0,j=m.length;h<j;++h){f=m[h];if(c.isNumber(f.value||f)){o=Math.min(o,(f.value||f))}}}if(l!==d.VALUE_UNLIMITED&&l<=o){g=false}g=g||n;for(h=0,j=this._containers.length;h<j;++h){b.setStyle(this._containers[h],"display",g?"":"none")}}}}())}var AJAX_ERROR_NOTICE;window.handle_ajax_error=function(a,d,c){var b;if(d.cpanel_error){b=d.cpanel_error.html_encode()}else{b=LOCALE.maketext("An unknown error occurred.")}if(AJAX_ERROR_NOTICE){AJAX_ERROR_NOTICE.cfg.setProperty("content",b)}else{AJAX_ERROR_NOTICE=new CPANEL.widgets.Page_Notice({level:"error",content:b,closable:true,replaces:AJAX_ERROR_NOTICE});AJAX_ERROR_NOTICE.destroyEvent.subscribe(function(){AJAX_ERROR_NOTICE=null})}};var default_initial_hidden_columns=[];var default_locked_columns={};var default_minimum_columns=3;var date_obj={};var yui_cal=new YAHOO.widget.Calendar("cal1","cal1Container",{maxdate:new Date()});EVENT.on(document,"click",function(g){var c=EVENT.getTarget(g);var f=DOM.get("start_cal");var b=DOM.get("end_cal");var i=DOM.get("startcal");var a=DOM.get("toggle_col_options");var h=DOM.get("emailreport");var d=(new Date()).getTime();if(c!=a&&!DOM.isAncestor(h,c)){if("emailreportpanel" in window){if(d-emailreportpanel.timestamp>500){emailreportpanel.hide()}}}if(c!=a&&!DOM.isAncestor(a,c)&&!DOM.isAncestor(DOM.get("col_options"),c)){header_panel.hide()}if(c!=f&&!DOM.isAncestor(f,c)){if((c!=i&&!DOM.isAncestor(i,c))&&(c!=b&&!DOM.isAncestor(b,c))){cal_panel.hide()}}});var cal_panel=new YAHOO.widget.Panel("startcal",{close:false,visible:false,draggable:false,modal:false,underlay:"none",constraintoviewport:true,width:"250px",context:["startdate","bl","bl",["beforeShow","windowResize"]]});cal_panel.render();DOM.get("startcal_c").className="hidden_panel";DOM.get("startcal").className="cal_interior";var header_panel=new YAHOO.widget.Overlay("col_options",{close:true,visible:false,draggable:false,constraintoviewport:false,width:"250px",context:["toggle_col_options","tr","tr",["beforeShow","windowResize"]]});header_panel.render();function toggle_inquiry(){if(DOM.get("container_box").style.display=="none"){CPANEL.animate.slide_down("container_box");DOM.get("toggle_inquiry_text").innerHTML=LOCALE.maketext("Hide")}else{CPANEL.animate.slide_up("container_box");DOM.get("toggle_inquiry_text").innerHTML=LOCALE.maketext("Reconfigure Search")}}(function(){var a=false;if(DOM.get("filterItems")){CPANEL.nvdata.register("show_advanced",function(){return(!a&&(DOM.getStyle("filterItems","display")!=="none"))?1:0})}window.toggle_filter=function(){if(DOM.get("filterItems").offsetHeight){a=true;CPANEL.animate.slide_up("filterItems").onComplete.subscribe(function(){a=false})}else{CPANEL.animate.slide_down("filterItems")}CPANEL.nvdata.save();return false}}());var date_clicked=function(){date_picked=yui_cal.getSelectedDates()[0];date_obj.value=date_picked.to_ymd_string();date_obj.focus();cal_panel.hide()};function _show_cal(c,d,a){if(cal_panel.cfg.getProperty("visible")){cal_panel.hide();return}cal_panel.hide();if(!("retention" in window)){retention=90}if(!d&&retention>0){d=new Date(new Date().getTime()-(retention*86400000))}c=DOM.get(c);var b=CPANEL.Locale.ymd_string_to_date(c.value.trim());if(!b){b=new Date()}yui_cal.cfg.setProperty("selected",b.getMonth()+1+"/"+b.getDate()+"/"+b.getFullYear());yui_cal.cfg.setProperty("pagedate",b);yui_cal.cfg.setProperty("maxdate",a);if(d){yui_cal.cfg.setProperty("mindate",d)}yui_cal.render();yui_cal.show();cal_panel.cfg.setProperty("context",[c,"tl","bl",["beforeShow","windowResize"]]);cal_panel.show();date_obj=c}function show_end_cal(){var b=new Date();var a=b.getMonth()+1+"/"+(b.getDate()+1)+"/"+b.getFullYear();_show_cal("enddate",CPANEL.Locale.ymd_string_to_date(DOM.get("startdate").value),a)}function show_start_cal(){_show_cal("startdate",null,CPANEL.Locale.ymd_string_to_date(DOM.get("enddate").value)||new Date())}function init_start_end_times(a){var c=new Date();var b=new Date(c);b.setDate(b.getDate()+1);if(!DOM.get("enddate").value){DOM.get("enddate").value=b.to_ymd_string()}if(!DOM.get("endtime").value){DOM.get("endtime").value=b.getHours()+":"+b.getMinutes()}var d=new Date(c);switch(a){case"twomonth":d.setMonth(d.getMonth()-2);break;case"month":d.setMonth(d.getMonth()-1);break;case"today":d.setDate(d.getDate());d.setTime(d.getTime()-7200000);break;default:d.setDate(d.getDate()-1)}if(!DOM.get("startdate").value){DOM.get("startdate").value=d.to_ymd_string()}if(!DOM.get("starttime").value){DOM.get("starttime").value=d.getHours()+":"+d.getMinutes()}}function get_start_end_times(){var d=CPANEL.Locale.ymd_string_to_date(DOM.get("startdate").value);if(d){var a=DOM.get("starttime").value;d.setHours((a.match(/^\d+/)||[0])[0]);d.setMinutes((a.match(/:(\d+)/)||[0,0])[1])}var b=CPANEL.Locale.ymd_string_to_date(DOM.get("enddate").value);if(b){var c=DOM.get("endtime").value;b.setHours((c.match(/^\d+/)||[0])[0]);b.setMinutes((c.match(/:(\d+)/)||[0,0])[1])}return[d,b]}function fade_table_out(){DOM.setStyle(eximstatstbl.deliveryreport.dt.getTableEl(),"opacity",0.25)}function fade_table_in(){DOM.setStyle(eximstatstbl.deliveryreport.dt.getTableEl(),"opacity",1)}function doupdate(){if(DOM.get("hide_inquiry")){DOM.get("hide_inquiry").style.display="block"}DOM.get("bottom-nav").style.display="block";DOM.get("option_header").style.display="block";eximstatstbl.loadUnixTimes();if(!eximstatstbl.deliveryreport){eximstatstbl.updatedata();eximstatstbl.deliveryreport.ds.subscribe("dataErrorEvent",hide_spinner);eximstatstbl.deliveryreport.ds.subscribe("responseEvent",hide_spinner);CPANEL.nvdata.register("table_sort",function(){return eximstatstbl.deliveryreport.dt.getState().sortedBy});eximstatstbl.deliveryreport.dt.subscribe("sortedByChange",function(f){var g=(f.prevValue.key!==f.newValue.key)||(f.prevValue.dir!==f.newValue.dir);if(g){CPANEL.nvdata.save()}});fade_table_out();eximstatstbl.deliveryreport.ds.subscribe("requestEvent",fade_table_out);eximstatstbl.deliveryreport.ds.subscribe("dataErrorEvent",fade_table_in);eximstatstbl.deliveryreport.ds.subscribe("responseEvent",fade_table_in);var d=eximstatstbl.deliveryreport.dt.getColumnSet().keys;var c;var b='<div class="check-all"><input id="toggle_all_checkbox" type="checkbox" onchange="toggle_all_headers()" /> <label id="toggle_all_label" for="toggle_all_checkbox">'+LOCALE.maketext("Select All")+"</label></div>";var a=d.length;for(c=0;c<a;c++){b+='<div class="toggle_checkbox_row"><input type=checkbox checked id="key_'+d[c].key+'" ';if(d[c].key in default_locked_columns){b+='disabled="disabled"'}b+=" onclick=\"filterHeaders('"+d[c].key+'\'); CPANEL.nvdata.save()"/> <label id="label_'+d[c].key+'" ';if(d[c].key in default_locked_columns){b+=' class="disabled-label" '}b+=' for="key_'+d[c].key+'">'+((d[c].label==="")?(" "+LOCALE.maketext("Checkboxes")):d[c].label)+"</label></div>"}b+="<div class='reset-to-default'><button onclick='reset_headers()'>"+LOCALE.maketext("Reset to Default")+"</button></div>";DOM.get("option_area").innerHTML=b;for(c=default_initial_hidden_columns.length-1;c>=0;c--){var e=DOM.get("key_"+default_initial_hidden_columns[c]);if(e){e.checked=false}else{if(window.console){console.warn("Failed to find the column key for "+default_initial_hidden_columns[c])}}}for(c=0;c<d.length;c++){filterHeaders(d[c].key)}header_panel.cfg.setProperty("context",["toggle_col_options","tr","tr"]);eximstatstbl.deliveryreport.dt.get("paginator").subscribe("totalRecordsChange",function(){var f=this.getTotalRecords();DOM.get("results-header").innerHTML=LOCALE.maketext("The search matches [quant,_1,record,records].",f)});if(typeof initial_setup_callback!=="undefined"){initial_setup_callback()}}else{if(THE_PAGINATOR.getCurrentPage()>1){THE_PAGINATOR.setPage(1)}else{eximstatstbl.updatedata()}}if("set_checkbox_header" in window){set_checkbox_header()}}function reset_headers(){var c=eximstatstbl.deliveryreport.dt.getColumnSet().keys;if(!("resetColumns" in window)){resetColumns=[]}if("failview" in resetColumns){failview(resetColumns.failview);return}for(var a=0;a<c.length;a++){var d=DOM.get("key_"+c[a].key);d.checked=true;for(var b=0;b<resetColumns.length;b++){if(resetColumns[b]==c[a].key){d.checked=false}}last_header_state[c[a].key]=d.checked;filterHeaders(c[a].key,true)}}var last_header_state={};function toggle_all_headers(){var c=eximstatstbl.deliveryreport.dt.getColumnSet().keys;var b=DOM.get("toggle_all_checkbox").checked;for(var a=0;a<c.length;a++){var d=DOM.get("key_"+c[a].key);if(b){last_header_state[c[a].key]=d.checked;d.checked=true}else{d.checked=last_header_state[c[a].key]}filterHeaders(c[a].key)}}function toggle_options(){header_panel.cfg.setProperty("context",["toggle_col_options","tr","tr",["beforeShow","windowResize"]]);header_panel.render();header_panel.show();DOM.get("col_options").style.visibility="visible";return false}function filterHeaders(b,d){var e=0;var a;var c=eximstatstbl.deliveryreport.dt.getColumnSet().keys;if(!d){for(a=0;a<c.length;a++){if(DOM.get("key_"+c[a].key).checked){e++}}if(e==default_minimum_columns){for(a=0;a<c.length;a++){if(DOM.get("key_"+c[a].key).checked){DOM.get("key_"+c[a].key).disabled=true;YAHOO.util.Dom.addClass("label_"+c[a].key,"disabled-label")}}}else{for(a=0;a<c.length;a++){if(!(c[a].key in default_locked_columns)){DOM.get("key_"+c[a].key).disabled=false;YAHOO.util.Dom.removeClass("label_"+c[a].key,"disabled-label")}}}}if(DOM.get("key_"+b).checked){eximstatstbl.deliveryreport.dt.showColumn(b)}else{eximstatstbl.deliveryreport.dt.hideColumn(b);DOM.get("toggle_all_checkbox").checked=false}}CPANEL.nvdata.register("hidden_columns",function(){return eximstatstbl.deliveryreport.dt.getColumnSet().flat.map(function(a){return a.hidden?a.key:false}).filter(Boolean)});CPANEL.nvdata.register("rows_per_page",function(){return eximstatstbl.deliveryreport.dt.get("paginator").getRowsPerPage()});if(DOM.get("advanced-form")){CPANEL.nvdata.register("show_success",function(){return DOM.get("advanced-form").success.checked?1:0});CPANEL.nvdata.register("show_failure",function(){return DOM.get("advanced-form").failure.checked?1:0});CPANEL.nvdata.register("show_defer",function(){return DOM.get("advanced-form").defer.checked?1:0});CPANEL.nvdata.register("show_inprogress",function(){return DOM.get("advanced-form").inprogress.checked?1:0})}function check_filter(){var a=CPANEL.dom.get_data_from_form("advanced-form");if(!a.defer&&!a.failure&&!a.success&&!a.inprogress){alert(LOCALE.maketext("You must show at least one message type."));return false}setSpinner();doupdate();CPANEL.nvdata.save()}var stylesheet_location=TIMESELECTOR_STYLESHEET;YAHOO.util.Event.onDOMReady(function(){if(!("no_time_init" in window)){if(DOM.get("starttime")){new CPANEL.time_selector("starttime",{stylesheet:stylesheet_location})}if(DOM.get("endtime")){new CPANEL.time_selector("endtime",{stylesheet:stylesheet_location})}}});yui_cal.selectEvent.subscribe(date_clicked,yui_cal,true);var setSpinner=function(){var a=DOM.get("run-button");var c=DOM.get("spinner");var b=DOM.get("spinner-text");return function(){c.style.width=a.offsetWidth+"px";DOM.setStyle(b,"opacity",0.2);c.style.display="block";a.disabled=true}}();var hide_spinner=function(){var a=DOM.get("run-button");var c=DOM.get("spinner");var b=DOM.get("spinner-text");return function(){c.style.display="none";DOM.setStyle(b,"opacity",1);a.disabled=false}}();(function(){var d=window.DEFAULT_ROWS_PER_PAGE||25;var c=[10,25,50,100,500,1000];var f=CPANEL.nvdata.initial&&Number(CPANEL.nvdata.initial.rows_per_page);if(!f||(c.indexOf(f)===-1)){f=d}c=c.map(function(i){return{value:i,text:LOCALE.maketext("Show [quant,_1,Result,Results]",i)}});window.THE_PAGINATOR=new YAHOO.widget.Paginator({alwaysVisible:false,previousPageLinkLabel:"&nbsp;",previousPageLinkTitle:LOCALE.maketext("Previous page"),nextPageLinkLabel:"&nbsp;",nextPageLinkTitle:LOCALE.maketext("Next page"),rowsPerPage:f,rowsPerPageOptions:c,template:"<span class='page-nav'>{PreviousPageLink}{CurrentPageReport}{NextPageLink}</span>{JumpToPageDropdown}{RowsPerPageDropdown}",containers:["top-page-nav","bottom-page-nav"]});var h=[];THE_PAGINATOR.on("render",function(){this.getContainerNodes().forEach(function(k){var i=k.getElementsByTagName("select");for(var j=i.length-1;j>=0;j--){h.push(new CPANEL.widgets.Wrapped_Select(i[j]))}})});THE_PAGINATOR.on("rowsPerPageChange",function(i){if(i.prevValue!==i.newValue){CPANEL.nvdata.save()}});YAHOO.widget.Paginator.ui.CurrentPageReport.sprintf=function(j,i){return LOCALE.maketext("Page [numf,_1] of [numf,_2]",i.currentPage,i.totalPages)};var a=YAHOO.widget.Paginator.ui.RowsPerPageDropdown.prototype.update;YAHOO.widget.Paginator.ui.RowsPerPageDropdown.prototype.update=function(){var i=a.apply(this,arguments);h.forEach(function(j){j.synchronize_label()});return i};var e=YAHOO.widget.Paginator.ui.RowsPerPageDropdown.prototype.render;YAHOO.widget.Paginator.ui.RowsPerPageDropdown.prototype.render=function(){var i=e.apply(this,arguments);this.select.title=LOCALE.maketext("Rows per page");return i};var b=YAHOO.widget.Paginator.ui.JumpToPageDropdown.prototype.update;YAHOO.widget.Paginator.ui.JumpToPageDropdown.prototype.update=function(){var i=b.apply(this,arguments);var j=this.select.options;for(var k=j.length-1;k>=0;k--){j[k].innerHTML=LOCALE.maketext("Page [numf,_1]",j[k].value)}this.select.disabled=(j.length<2);h.forEach(function(l){l.synchronize_label()});return i};var g=YAHOO.widget.Paginator.ui.JumpToPageDropdown.prototype.render;YAHOO.widget.Paginator.ui.JumpToPageDropdown.prototype.render=function(){var i=g.apply(this,arguments);this.select.title=LOCALE.maketext("Jump to page");return i}}());